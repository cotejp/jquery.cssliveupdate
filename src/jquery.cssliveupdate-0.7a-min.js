/*!
 * CssLiveUpdate jQuery plugin v0.7a
 * (c) 2013, Jean-Philippe Côté - http://cote.cc/projects/cssliveupdate
 */
(function(e,t){"use strict";var n="CssLiveUpdate",r=n.toLowerCase(),i={applyUponActivation:true,defaultTabBehaviour:false,replaceTabWith:"	"},s=[/(\w\/\/|\w\/\/*\*)/,/(\/\*\/)/,/\\/,/(\bdata:\b|eval|cookie|\bwindow\b|\bparent\b|\bthis\b)/i,/moz-binding|@import|@charset/i,/behaviou?r|expression|(java|vb)?script|[<]|\\\w/i,/[\x00-\x08\x0B\x0C\x0E-\x1F]/,/&\#/];e.fn.CssLiveUpdate=function(t,o){function u(e){e=e.replace(/\/\*.*?\*\//gm,"");e=e.replace(/<!--.*?->/gm,"");for(var t=s.length-1;t>=0;t--){if(e.match(s[t])){return"/* Suspicious activity detected */"}}return e}function a(e){e.off("."+n)}function f(e){e=e.first();if(e.is("input, textarea")){return e.val()}else if(e.text().length>0){return e.text()}else{return""}}function l(t){var n="",i;t.each(function(){n+=f(e(this))});i="<style class='"+r+"'>\n"+u(n)+"\n</style>";if(e("head style."+r).length>0){e("head style."+r).replaceWith(i)}else{e(i).appendTo("head")}}function c(e){a(e);if(o.applyUponActivation){l(e)}e.on("input."+n+" keyup."+n,function(){l(e)});if(!o.defaultTabBehaviour){e.on("keydown."+n,function(t){if(t.which===9){t.preventDefault();h(o.replaceTabWith);l(e)}})}}function h(t){t=t||"";if(e(":focus").is("textarea, input")){d(t)}else{p(t)}}function p(e){var t,n;if(window.getSelection){t=window.getSelection();if(t.getRangeAt&&t.rangeCount){n=t.getRangeAt(0);n.deleteContents();var r=document.createTextNode(e);n.insertNode(r);n.setStartAfter(r);t.removeAllRanges();t.addRange(n)}}else if(document.selection&&document.selection.createRange){document.selection.createRange().text=e}}function d(t){if(document.selection){document.selection.createRange().text=t}else if(window.getSelection){var n=e(":focus")[0];var r=n.selectionStart;var i=n.selectionEnd;var s=n.scrollTop;n.value=n.value.substring(0,r)+t+n.value.substring(i,n.value.length);n.selectionStart=r+t.length;n.selectionEnd=r+t.length;n.scrollTop=s}else{e(":focus")[0].value+=t}}o=e.extend({},i,o||{});if(t==="deactivate"){a(this)}else{c(this)}return this};e(function(){e("[data-"+r+"]")[n]()})})(jQuery)